services:
  - type: web
    name: botica-pos
    runtime: docker
    plan: free
    envVars:
      # Define at Render UI or replace with your secrets. Do NOT commit real credentials.
      - key: APP_ENV
        value: production
      - key: APP_DEBUG
        value: "false"
      - key: APP_KEY
        sync: false
      - key: DB_CONNECTION
        value: mysql
      - key: DB_HOST
        sync: false
      - key: DB_PORT
        value: "3306"
      - key: DB_DATABASE
        sync: false
      - key: DB_USERNAME
        sync: false
      - key: DB_PASSWORD
        sync: false
    autoDeploy: true
    buildCommand: ""
    startCommand: ""
    postDeployCommand: "npm install && npm run build && php artisan migrate --force && php artisan db:seed --force && rm -rf public/storage && php artisan storage:link || true"